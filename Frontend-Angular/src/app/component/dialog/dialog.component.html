<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<!------ Include the above in your HEAD tag ---------->
<fieldset>
  <div class="panel" style="border: none;">
    <div class="panel-heading dialog-title">
      <span class="header-space">Cadastro Pessoa {{ data.tipoPessoa == 'PF'? 'Física': 'Jurídica' }} </span>
      <a (click)="fecharModal()" style="cursor: pointer;"><i class="bi bi-x-circle-fill" matTooltip="Fechar Modal"></i></a>
    </div>

    <div class="panel-body">
      <div class="form-group form-content">
        <form [formGroup]="monitoradorForm">
          <div style="display: flex; flex-wrap: wrap; gap: 5px; width: 100%; max-width: 780px;">

            <div style="width: 60%; max-width: 60%;">
              <div class="input-group" style="margin-bottom: 5px;">
                @if (data.tipoPessoa === TipoPessoa.PF) {
                  <span class="input-group-addon">Nome Completo</span>
                }
                @if (data.tipoPessoa === TipoPessoa.PJ) {
                  <span class="input-group-addon">Razão Social</span>
                }
                <input id="nomeRazaoSocial" name="nomeRazaoSocial" class="form-control" placeholder="" required="" type="text" matInput formControlName="nomeRazaoSocial">
              </div>
            </div>

            <div style="width: 30%; max-width: 30%;">
              <div class="input-group" style="margin-bottom: 5px;">
                @if (data.tipoPessoa === TipoPessoa.PF) {
                  <span class="input-group-addon">CPF</span>
                }
                @if (data.tipoPessoa === TipoPessoa.PJ) {
                  <span class="input-group-addon">CNPJ</span>
                }
                <input id="cpfCnpj" name="cpfCnpj" class="form-control" placeholder="" required="" type="text" matInput formControlName="cpfCnpj">
              </div>
            </div>

            <div style="width: 25%; max-width: 20%;">
              <div class="input-group" style="margin-bottom: 5px;">
                @if (data.tipoPessoa === TipoPessoa.PF) {
                  <span class="input-group-addon">RG</span>
                }
                @if (data.tipoPessoa === TipoPessoa.PJ) {
                  <span class="input-group-addon">I.E</span>
                }
                <input id="rgIe" name="rgIe" class="form-control" placeholder="" required="" type="text" matInput formControlName="rgIe">
              </div>
            </div>

            <div style="width: 40%; max-width: 40%;">
              <div class="input-group" style="margin-bottom: 5px;">
                <span class="input-group-addon">Email</span>
                <input id="email" name="email" class="form-control" placeholder="" required="" type="email" matInput formControlName="email">
              </div>
            </div>

            <div style="width: 25%; max-width: 30%;">
              <div class="input-group" style="margin-bottom: 5px;">
                <span class="input-group-addon">Telefone</span>
                <input id="telefone" name="telefone" class="form-control" placeholder="" required="" type="text" matInput formControlName="telefone">
              </div>
            </div>

            <div style="width: 10%; max-width: 10%;">
              <div class="input-group" style="margin-bottom: 5px;">
                <span >Status</span>
                <mat-slide-toggle formControlName="status" name="status"></mat-slide-toggle>
                {{ monitoradorForm.get('status')!.value ? 'Ativo' : 'Inativo' }}
              </div>
            </div>

          </div>
          <mat-card-actions>
            <button mat-raised-button color="primary" (click)="showAddress()">Adicionar Endereço</button>
          </mat-card-actions>
          <div class="form-group form-content" *ngIf="showAddressForm">
            <!-- endereco-form.component.html -->

            <form [formGroup]="enderecoForm" (ngSubmit)="onSubmit()">
              <div style="display: flex; flex-wrap: wrap; gap: 10px; width: 100%; max-width: 780px;">
                <div style="width: 30%; max-width: 30%;">
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon">CEP: </span>
                    <input id="cep" name="cep" class="form-control" placeholder="" required="" type="text">
                  </div>
                </div>
                <div>
                  <button type="button" class="btn btn-primary" matTooltip="Pesquisar CEP">Pesquisar</button>
                </div>
                <!-- ... CEP e botão Pesquisar ... -->

                <div style="width: 55%; max-width: 55%;">
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon">Rua: </span>
                    <input id="rua" name="rua" class="form-control" placeholder="" required="" readonly="readonly" type="text">
                  </div>
                </div>

                <div style="width: 35%; max-width: 35%;">
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon">Bairro</span>
                    <input id="bairro" name="bairro" class="form-control" placeholder="" required="" readonly="readonly" type="text">
                  </div>
                </div>

                <div style="width: 45%; max-width: 45%;">
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon">Complemento</span>
                    <input id="complemento" name="complemento" class="form-control" placeholder="" required="" readonly="readonly" type="text">
                  </div>
                </div>

                <div style="width: 15%; max-width: 15%;">
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon">Nº: </span>
                    <input id="numero" name="numero" class="form-control" placeholder="" required="" type="text">
                  </div>
                </div>

                <div style="width: 35%; max-width: 35%;">
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon">Cidade</span>
                    <input id="cidade" name="cidade" class="form-control" placeholder="" required="" readonly="readonly" type="text">
                  </div>
                </div>

                <div style="width: 30%; max-width: 30%;">
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon">UF</span>
                    <input id="estado" name="estado" class="form-control" placeholder="" required="" readonly="readonly" type="text">
                  </div>
                </div>

              </div>
            </form>
            <div>
              <mat-card class="mat-elevation-z8 table-data">
                <mat-card-content><h3>Endereços</h3> </mat-card-content>
              </mat-card>
              <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <!-- CEP Column -->
                <ng-container matColumnDef="cep">
                  <th mat-header-cell *matHeaderCellDef> CEP </th>
                  <td mat-cell *matCellDef="let endereco"> {{ endereco.cep }} </td>
                </ng-container>

                <!-- Logradouro Column -->
                <ng-container matColumnDef="logradouro">
                  <th mat-header-cell *matHeaderCellDef> Logradouro </th>
                  <td mat-cell *matCellDef="let endereco"> {{ endereco.logradouro }} </td>
                </ng-container>

                <!-- Complemento Column -->
                <ng-container matColumnDef="complemento">
                  <th mat-header-cell *matHeaderCellDef> Complemento </th>
                  <td mat-cell *matCellDef="let endereco"> {{ endereco.complemento }} </td>
                </ng-container>

                <!-- Numero Column -->
                <ng-container matColumnDef="numero">
                  <th mat-header-cell *matHeaderCellDef> Número </th>
                  <td mat-cell *matCellDef="let endereco"> {{ endereco.numero }} </td>
                </ng-container>

                <!-- Bairro Column -->
                <ng-container matColumnDef="bairro">
                  <th mat-header-cell *matHeaderCellDef> Bairro </th>
                  <td mat-cell *matCellDef="let endereco"> {{ endereco.bairro }} </td>
                </ng-container>

                <!-- Cidade Column -->
                <ng-container matColumnDef="cidade">
                  <th mat-header-cell *matHeaderCellDef> Cidade </th>
                  <td mat-cell *matCellDef="let endereco"> {{ endereco.localidade }} </td>
                </ng-container>

                <!-- Estado Column -->
                <ng-container matColumnDef="estado">
                  <th mat-header-cell *matHeaderCellDef> Estado </th>
                  <td mat-cell *matCellDef="let endereco"> {{ endereco.uf }} </td>
                </ng-container>

                <!-- Configuração da Tabela -->
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>

              <!-- Paginação -->
              <mat-paginator [pageSize]="[1]" showFirstLastButtons></mat-paginator>
            </div>
            <div style="display: flex; justify-content: space-between;">
              <mat-card-actions style="display: flex;">

                <span class="header-space"></span>
              </mat-card-actions>
              <mat-card-actions>
                <button mat-raised-button color="primary" type="submit">Submit</button>
              </mat-card-actions>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

</fieldset>
